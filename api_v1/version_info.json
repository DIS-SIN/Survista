{
    "version": "v1.0",
    "implementedOn": "11/02/2019",
    "description" : "This is the first release of the Survista api",
    "features": [
        "Sentiment and magnitude analysis on selected text, individual comment and sentence scale",
        "Filter comments by sentiment and magnitude scores",
        "Keyword extraction on selected text",
        "Word counts and sentence counts"
    ],
    "terminologies":{
        "URI": "The actual endpoint",
        "methods" : "supported HTTP methods",
        "mainSelector" : "used in the dynamic URI to select a resource",
        "possibleArguments": "arguments that can be used, when there is multiple methods arguments will be split by method",
        "inherit": "the endpoint retains all the feature of the value which is another endpoint"
    },
    "endpoints":{
        "surveys": {
            "URI": "/surveys",
            "description": "used to access top level surveys information it is currently not possible to aggregate survey data within the same request, this will be coming in future releases",
            "methods": ["GET"], 
            "subEndpoints":[
                "survey",
                "slug"
            ]
        },
        "slug":{
            "URI": "/surveys/slug",
            "description": "used to access survey by slug instead of ID",
            "methods": ["GET"],
            "subEndpoints":[
                "survey"
            ],
            "inherit": "surveys"

        },
        "survey":{
            "URI": [
                "/surveys/<surveyId>",
                "/surveys/slug/<slugName>"
                ],
            "description" : "Used to access information from  particular survey",
            "methods" : ["GET"],
            "mainSelectors":{
                "slugName":{
                    "type": "string",
                    "description": "a unique slug for the survey, this is set when you upload the survey zip"
                },
                "surveyID":{
                    "type": "int",
                    "description": "a unique ID for the survey, this is set when you upload the survey zip"
                }
            },
            "possibleErrors":{
                "surveyNotFound":{
                    "description": "The survey requested could not be found"
                },
                "surveyProcessingError":{
                    "description": "The survey is currently being processed and will be available shortly"
                }
            },
            "subEndpoints":[
                "questions",
                "comments"
            ]
        },
        "questions":{
                "URI" : [
                    "/surveys/<surveyId>/questions",
                    "/surveys/slug/<slugName>/questions" 
                ],
                "description": "used to access questions in survey",
                "methods" : ["GET"],
                "possibleArguments":{
                    "questions":{
                        "type": "array",
                        "description": "Select questions to aggregate data"
                    },
                    "withComments": {
                        "type": "bool",
                        "description": "Include or not include comments",
                        "default" : "True"
                    },
                    "sentimentScoreMin":{
                        "type": "numerical",
                        "description": "minimum sentiment score thresh hold for comments",
                        "conditions":[
                            "value must be between -1.0 and 1.0",
                            "if sentimentScoreMax is set sentimentScoreMax must be >= senimentScoreMin"
                        ]
                    },
                    "sentimentScoreMax" : {
                        "type": "numerical",
                        "description": "maximum sentiment score thresh hold for comments",
                        "conditions":[
                            "value must be between -1.0 and 1.0",
                            "if sentimentScoreMin is set sentimentScoreMax must be >= senimentScoreMin"
                        ]

                    },
                    "magnitudeScoreMin":{
                        "type": "numerical",
                        "description": "minimum magnitude score thresh hold for comments",
                        "conditions":[
                            "value must be greater than 0",
                            "if magnitudeScoreMax is set magnitudeScoreMax must be >= magnitudeScoreMin"
                        ]
                    },
                    "magnitudeScoreMax":{
                        "type": "numerical",
                        "description": "maximum sentiment score thresh hold for comments",
                        "conditions":[
                            "value must be greater than 0",
                            "if magnitudeScoreMin is set magnitudeScoreMax must be >= magnitudeScoreMin"
                        ]
                    }
                },
                "possibleErrors":{
                    "questionsNotFound":{
                        "description": "One or more questions requested could not be found"
                    },
                    "sentimentOutOfBounds":{
                        "description": "Sentiment score thresh hold set is out of range of possible values"
                    },
                    "magnitudeOutOfBounds":{
                        "description": "Magnitude score thresh hold set is out of range of possible values"
                    },
                    "sentimentMinIsGreaterThanMax":{
                        "description": "Sentiment score min thresh hold is greater than the max"
                    },
                    "magnitudeMinIsGreaterThanMax":{
                        "description": "Magnitude score min thresh hold is greater than the max"
                    }
                },
                "subEndpoints":[
                    "question"
                ]
        },
        "question": {
            "URI": [
                "/surveys/<surveyId>/questions/<questionNumber>",
                "/surveys/slug/<slugName>/questions/<questionNumber>"
            ],
            "methods" : ["GET"],
            "mainSelector":{
                "questionNumber":{
                    "type":"str",
                    "description": "the question number, this should be the question number in your index csv"
                }
            },
            "possibleArguments":{
                "withComments": {
                    "type": "bool",
                    "description": "Include or not include comments",
                    "default" : "True"
                },
                "sentimentScoreMin":{
                    "type": "numerical",
                    "description": "minimum sentiment score thresh hold for comments",
                    "conditions":[
                        "value must be between -1.0 and 1.0",
                        "if sentimentScoreMax is set sentimentScoreMax must be >= senimentScoreMin"
                    ]
                },
                "sentimentScoreMax" : {
                    "type": "numerical",
                    "description": "maximum sentiment score thresh hold for comments",
                    "conditions":[
                        "value must be between -1.0 and 1.0",
                        "if sentimentScoreMin is set sentimentScoreMax must be >= senimentScoreMin"
                    ]

                },
                "magnitudeScoreMin":{
                    "type": "numerical",
                    "description": "minimum magnitude score thresh hold for comments",
                    "conditions":[
                        "value must be greater than 0",
                        "if magnitudeScoreMax is set magnitudeScoreMax must be >= magnitudeScoreMin"
                    ]
                },
                "magnitudeScoreMax":{
                    "type": "numerical",
                    "description": "maximum sentiment score thresh hold for comments",
                    "conditions":[
                        "value must be greater than 0",
                        "if magnitudeScoreMin is set magnitudeScoreMax must be >= magnitudeScoreMin"
                    ]
                }

            },
            "possibleErrors" :{
                "questionsNotFound":{
                    "description": "One or more questions requested could not be found"
                },
                "sentimentOutOfBounds":{
                    "description": "Sentiment score thresh hold set is out of range of possible values"
                },
                "magnitudeOutOfBounds":{
                    "description": "Magnitude score thresh hold set is out of range of possible values"
                },
                "sentimentMinIsGreaterThanMax":{
                    "description": "Sentiment score min thresh hold is greater than the max"
                },
                "magnitudeMinIsGreaterThanMax":{
                    "description": "Magnitude score min thresh hold is greater than the max"
                }
            },
            "subEndpoints":["comments"]

        },
        "comments":{
            "URI":[
                "/surveys/<surveyId>/comments",
                "/surveys/slug/<slugName>/comments",
                "/surveys/<surveyId>/questions/<questionNumber>/comments",
                "/surveys/slug/<slugName>/questions/<questionNumber>/comments"
            ],
            "methods": ["GET"],
            "possibleArguments":{
                "questions":{
                    "type":"array",
                    "description": "Used to get comments from particular questions",
                    "conditions":[
                        "can only be used on /surveys/<surveyId>/comments and /surveys/slug/<slugName>/comments"
                    ]
                },
                "commentsById" :{
                    "type": "array",
                    "description": "Used to get specific comments by ID, generated during processing phase"
                },
                "sentimentScoreMin":{
                    "type": "numerical",
                    "description": "minimum sentiment score thresh hold for comments",
                    "conditions":[
                        "value must be between -1.0 and 1.0",
                        "if sentimentScoreMax is set sentimentScoreMax must be >= senimentScoreMin"
                    ]
                },
                "sentimentScoreMax" : {
                    "type": "numerical",
                    "description": "maximum sentiment score thresh hold for comments",
                    "conditions":[
                        "value must be between -1.0 and 1.0",
                        "if sentimentScoreMin is set sentimentScoreMax must be >= senimentScoreMin"
                    ]

                },
                "magnitudeScoreMin":{
                    "type": "numerical",
                    "description": "minimum magnitude score thresh hold for comments",
                    "conditions":[
                        "value must be greater than 0",
                        "if magnitudeScoreMax is set magnitudeScoreMax must be >= magnitudeScoreMin"
                    ]
                },
                "magnitudeScoreMax":{
                    "type": "numerical",
                    "description": "maximum sentiment score thresh hold for comments",
                    "conditions":[
                        "value must be greater than 0",
                        "if magnitudeScoreMin is set magnitudeScoreMax must be >= magnitudeScoreMin"
                    ]
                }
            },
            "possibleErrors" :{
                "commentsNotFound":{
                    "description": "One or more comments requested could not be found"
                },
                "sentimentOutOfBounds":{
                    "description": "Sentiment score thresh hold set is out of range of possible values"
                },
                "magnitudeOutOfBounds":{
                    "description": "Magnitude score thresh hold set is out of range of possible values"
                },
                "sentimentMinIsGreaterThanMax":{
                    "description": "Sentiment score min thresh hold is greater than the max"
                },
                "magnitudeMinIsGreaterThanMax":{
                    "description": "Magnitude score min thresh hold is greater than the max"
                }
            },
            "subEndpoints":[
                "comment"
            ]

        },
        "comment":{
            "URI":[
                "/surveys/<surveyId>/comments/<commentID>",
                "/surveys/slug/<slugName>/comments/<commentsID>",
                "/surveys/<surveyId>/questions/<questionNumber>/comments",
                "/surveys/slug/<slugName>/questions/<questionNumber>/comments"
            ]
        }
    }
}